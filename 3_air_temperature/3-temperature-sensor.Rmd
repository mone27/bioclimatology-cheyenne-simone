---
title: "R Notebook"
output: html_notebook
---

```{r}
library(tidyverse)
```

resistance sensor

```{r}
res_wire <- 3.7 # Omega
r_0 <- 100 # Omega at 100 degrees

```

```{r}
get_temp <- function(resistance) {
  (((resistance - res_wire) / 100) - 1) / 4e-3 
}
```
we heat up the sensor and then measure every 10 seconds the temperature while it cooled down


```{r}
df <- read.csv("resistance_sensor_cooling response", header = T)
```

```{r}
df <- df %>%
  mutate(time = 0:(nrow(df)-1) * 10,
         temp = get_temp(resistance) )
```



```{r}
T_a <- 13.0 # needs to clacl this better
T_0 <- df$temp[1]
```

```{r}
df$log_t <- log((T_0 - T_a) / (df$temp - T_a)) 
```

```{r}
ggplot(df, aes(x=time, y=log_t)) +
  geom_line()
```

```{r}
lm(time ~ log_t, data=df)
```

